{"version":3,"sources":["components/App/App.js","components/Login/Signup.js","components/Login/Login.js","imageBufferDataToString.js","components/HeaderNav/HeaderNav.js","components/Posts/PostForm.js","components/Posts/CommentBox.js","components/Posts/Post.js","components/Posts/PostIndex.js","components/Posts/PostPage.js","components/Users/UserCard.js","components/Users/UserIndex.js","components/Users/ChangeImage.js","components/Users/UserPage.js","index.js"],"names":["App","useState","loggedIn","setLoggedIn","useEffect","axios","defaults","baseURL","process","className","logout","path","exact","setHeaders","token","headers","common","Signup","closePopup","errors","setErrors","message","setMessage","firstName","lastName","email","password","confirmPassword","inputs","setInputs","handleChange","e","old","target","name","files","value","onSubmit","preventDefault","formData","FormData","input","append","post","then","result","data","setTimeout","catch","err","console","log","response","encType","src","alt","onClick","map","error","i","msg","type","onChange","placeholder","Login","setEmail","setPassword","setError","signupPopup","setSignupPopup","res","base64ToString","base64","HeaderNav","user","setUser","get","image","request","to","_id","fullName","width","height","PostForm","refresh","content","setContent","handleSubmit","a","rows","maxLength","CommentBox","postId","comment","setComment","motion","form","variants","collapsed","scaleY","y","open","cols","button","ExpandLikes","likes","like","Post","expandLikes","setExpandLikes","showRespond","setShowRespond","likePost","AnimateSharedLayout","author","onMouseEnter","onMouseLeave","length","comments","liked","div","sort","b","dateAdded","AnimatePresence","initial","animate","exit","opacity","transition","duration","ease","PostIndex","posts","setPosts","getPosts","useCallback","key","PostPage","setPost","useParams","getPost","UserCard","respondRequest","requestResponse","put","status","undefined","userId","StatusBtn","friendsStatus","UserIndex","users","setUsers","getUsers","forEach","require","default","ChangeImage","priorImage","setImage","remove","setRemove","UserPage","isCurrentUser","setIsCurrentUser","changeImage","setChangeImage","getUser","currentUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5975bb55.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport {\n  PostIndex,\n  Login,\n  HeaderNav,\n  UserIndex,\n  UserPage,\n  PostPage,\n} from \"../index\";\nimport \"./App.scss\";\n\nconst App = () => {\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const setHeaders = (token) => {\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    setLoggedIn(true);\n  };\n\n  useEffect(() => {\n    axios.defaults.baseURL = process.env.REACT_APP_PROD_URL;\n  }, []);\n\n  return (\n    <div className=\"app\">\n      {!loggedIn ? (\n        <Login {...{ setHeaders }} />\n      ) : (\n        <div>\n          <HeaderNav logout={() => setLoggedIn(false)} />\n          <div className=\"container\">\n            <Switch>\n              <Route path={[\"/\", \"/posts\"]} exact>\n                <PostIndex />\n              </Route>\n              <Route path=\"/posts/:postId\">\n                <PostPage />\n              </Route>\n              <Route path=\"/users\" exact>\n                <UserIndex />\n              </Route>\n              <Route path=\"/users/:userId\">\n                <UserPage />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport { App };\n","import axios from \"axios\";\nimport { useState } from \"react\";\n\nconst Signup = ({ closePopup }) => {\n  const [errors, setErrors] = useState([]);\n  const [message, setMessage] = useState(null);\n  const [inputs, setInputs] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    // image: \"\",\n  });\n\n  const handleChange = (e) => {\n    setInputs((old) => ({\n      ...old,\n      [e.target.name]:\n        e.target.name === \"image\" ? e.target.files[0] : e.target.value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    for (let input in inputs) {\n      formData.append([input], inputs[input]);\n    }\n\n    axios\n      .post(\"/signup\", formData, {})\n      .then((result) => {\n        setMessage(result?.data?.message);\n\n        // rm conditional?\n        if (result?.errors) {\n          setErrors([...result?.errors]);\n        } else {\n          setErrors([]);\n          setTimeout(() => closePopup(), 1000);\n        }\n      })\n      .catch((err) => {\n        console.log(err.response);\n        // setErrors([...err?.response?.data?.errors] || err?.response || err);\n      });\n  };\n\n  return (\n    <form\n      className=\"signup-form\"\n      onSubmit={handleSubmit}\n      encType=\"multipart/form-data\"\n    >\n      <h2 className=\"form-title\">Signup</h2>\n      <img\n        className=\"exit-btn\"\n        src=\"https://static.xx.fbcdn.net/rsrc.php/v3/yX/r/TdCEremeWv5.png\"\n        alt=\"\"\n        onClick={closePopup}\n      />\n      {errors.map((error, i) => (\n        <div className=\"error\" key={i}>\n          - {error.msg}\n        </div>\n      ))}\n      {message && <div className=\"message\">{message}</div>}\n      <div className=\"line\" />\n      <label>\n        <input\n          type=\"text\"\n          name=\"firstName\"\n          value={inputs.firstName}\n          onChange={handleChange}\n          placeholder=\"First Name\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"text\"\n          name=\"lastName\"\n          value={inputs.lastName}\n          onChange={handleChange}\n          placeholder=\"Last Name\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"email\"\n          name=\"email\"\n          value={inputs.email}\n          onChange={handleChange}\n          placeholder=\"Email\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={inputs.password}\n          onChange={handleChange}\n          placeholder=\"Password\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"password\"\n          name=\"confirmPassword\"\n          value={inputs.confirmPassword}\n          onChange={handleChange}\n          placeholder=\"Confirm Password\"\n        />\n      </label>\n      <label>\n        Profile Picture\n        <input type=\"file\" name=\"image\" onChange={handleChange}></input>\n      </label>\n      <button type=\"submit\" className=\"signup-btn\">\n        Sign Up\n      </button>\n    </form>\n  );\n};\n\nexport { Signup };\n","import axios from \"axios\";\nimport { useState } from \"react\";\n\nimport \"./Login.scss\";\nimport { Signup } from \"./Signup\";\n\nconst Login = ({ setHeaders }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [signupPopup, setSignupPopup] = useState(false);\n\n  const checkCredentials = (e) => {\n    e.preventDefault();\n    axios\n      .post(\"/login\", {\n        email,\n        password,\n      })\n      .then((res) => {\n        setError(res?.data?.message);\n        const token = res?.data?.token;\n        if (!!token) setHeaders(token);\n      })\n      .catch((err) => console.log(err.response || err));\n  };\n\n  return (\n    <div className=\"login\">\n      <header>Welcome Banter!</header>\n      {signupPopup ? (\n        <Signup closePopup={() => setSignupPopup(false)} />\n      ) : (\n        <form className=\"login-form\" onSubmit={checkCredentials}>\n          {error && <div className=\"error\">- {error}</div>}\n          <label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"Email\"\n            />\n          </label>\n          <label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Password\"\n            />\n          </label>\n          <button className=\"submit-btn\">Log In</button>\n          <div className=\"line\" />\n          <button\n            type=\"button\"\n            className=\"signup-btn\"\n            onClick={() => setSignupPopup(true)}\n          >\n            Sign Up\n          </button>\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport { Login };\n","const arrayBufferToBase64 = (buffer) => {\n  let binary = \"\";\n  const bytes = [].slice.call(new Uint8Array(buffer));\n  bytes.forEach((b) => (binary += String.fromCharCode(b)));\n  return window.btoa(binary);\n};\n\nconst imageBufferDataToString = (data) =>\n  `data:image/jpeg;base64,${arrayBufferToBase64(data)}`;\n\nconst base64ToString = (base64) => `data:image/jpeg;base64,${base64}`;\n\nexport { imageBufferDataToString, base64ToString };\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./HeaderNav.scss\";\n\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst HeaderNav = ({ logout }) => {\n  const [user, setUser] = useState(true);\n\n  useEffect(() => {\n    axios\n      .get(\"/users/me\")\n      .then((res) => {\n        const user = res.data.user;\n\n        // set image if received\n        if (user?.image) {\n          user.image = base64ToString(user.image.image.data);\n        }\n\n        setUser(user);\n      })\n      .catch((err) => console.log(err?.response?.data?.err || err.request));\n  }, []);\n\n  return (\n    <header className=\"header\">\n      <Link to=\"/\">\n        <header>\n          <h1 className=\"logo\">Banter</h1>\n        </header>\n      </Link>\n      <nav className=\"navbar\">\n        <Link className=\"link\" to=\"/users\">\n          Users\n        </Link>\n        <Link className=\"link\" to={`/users/${user._id}`}>\n          {user?.image && (\n            <div className=\"profilePic\">\n              <div className=\"usersName\">{user.fullName}</div>\n              <img\n                src={user?.image || \"/empty_profile.png\"}\n                alt=\"profile pic\"\n                width=\"50\"\n                height=\"50\"\n              ></img>\n            </div>\n          )}\n        </Link>\n        <div className=\"link\" onClick={logout}>\n          Logout\n        </div>\n      </nav>\n    </header>\n  );\n};\n\nexport { HeaderNav };\n","import TextareaAutosize from \"react-textarea-autosize\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\n\nconst PostForm = ({ refresh }) => {\n  const [content, setContent] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState(null);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await axios\n      .post(`/posts/`, {\n        content: content,\n      })\n      .then((res) => setMessage(res.data.msg))\n      .catch((err) => setError(err.response.data.err));\n\n    setContent(\"\");\n    refresh();\n  };\n\n  return (\n    <form className=\"postForm\" onSubmit={handleSubmit}>\n      <label>\n        <TextareaAutosize\n          onChange={(e) => setContent(e.target.value)}\n          value={content}\n          rows={2}\n          maxLength={500}\n          placeholder=\"Write Something...\"\n        />\n      </label>\n      <button className=\"submit-btn\">Submit</button>\n      {message && <div className=\"message\">{message}</div>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n};\n\nexport { PostForm };\n","import axios from \"axios\";\nimport { useState } from \"react\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { AnimatePresence, motion } from \"framer-motion\";\n\nconst CommentBox = ({ postId, refresh }) => {\n  const [comment, setComment] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  const handleResult = (result) => {\n    setErrors(\n      result?.errors\n        ? result.errors.map((err) => err.msg)\n        : result?.err\n        ? [result.err]\n        : []\n    );\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await axios\n      .post(`/posts/${postId}`, {\n        content: comment,\n      })\n      .then((res) => handleResult(res))\n      .catch((err) => setErrors([...errors, err.response.data.err]));\n\n    setComment(\"\");\n    refresh();\n  };\n\n  return (\n    <motion.form\n      className=\"comment-box\"\n      onSubmit={handleSubmit}\n      key=\"commentBox\"\n      // initial={{ y: -25, height: \"0px\" }}\n      // animate={{ y: 0, height: \"fit-content\" }}\n      // exit={{ y: -25, height: \"0px\" }}\n      variants={{ collapsed: { scaleY: 0, y: -25 }, open: { scaleY: 1, y: 0 } }}\n    >\n      <TextareaAutosize\n        onChange={(e) => setComment(e.target.value)}\n        value={comment}\n        rows={1}\n        cols={40}\n        maxLength={300}\n        placeholder=\"Write a reply...\"\n      />\n      <motion.button className=\"submit-btn\">Submit</motion.button>\n      {errors && errors.map((error) => <div className=\"error\">{error}</div>)}\n    </motion.form>\n  );\n};\n\nexport { CommentBox };\n","import axios from \"axios\";\nimport { AnimatePresence, motion, AnimateSharedLayout } from \"framer-motion\";\n\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CommentBox } from \"./CommentBox\";\n\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst ExpandLikes = ({ post }) => (\n  <div className=\"expanded-likes\">\n    {post?.likes.map((like, i) => (\n      <li key={i}>{like.fullName}</li>\n    ))}\n  </div>\n);\n\nconst Post = ({ refresh, post }) => {\n  const [expandLikes, setExpandLikes] = useState(false);\n  const [showRespond, setShowRespond] = useState(false);\n\n  const likePost = async (e) => {\n    e.preventDefault();\n    try {\n      await axios\n        .post(`/posts/${post._id}/like`)\n        .then((res) => console.log(res.data.msg));\n      refresh();\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  return (\n    <AnimateSharedLayout>\n      <div className=\"post\">\n        <div className=\"post-info\">\n          <Link to={`/users/${post.author._id}`}>\n            <div className=\"profilePic\">\n              <div className=\"author\">{post.author.fullName}</div>\n              {post.author?.image && (\n                <img\n                  src={\n                    base64ToString(post.author.image) ||\n                    \"https://fertilitynetworkuk.org/wp-content/uploads/2017/01/Facebook-no-profile-picture-icon-620x389.jpg\"\n                  }\n                  alt=\"profile pic\"\n                  width=\"50\"\n                ></img>\n              )}\n            </div>\n          </Link>\n\n          <p className=\"content\">{post.content}</p>\n          <div className=\"stats-bar\">\n            <span\n              className=\"number-likes\"\n              onMouseEnter={() => setExpandLikes(true)}\n              onMouseLeave={() => setExpandLikes(false)}\n            >\n              {post?.likes?.length || \"0\"} Likes\n            </span>\n            {expandLikes && <ExpandLikes {...{ post }} />}\n            {\" Â· \"}\n            <span>{post?.comments?.length} Comments</span>\n          </div>\n\n          <div className=\"actions-bar\">\n            <button\n              className={`like-button ${post.liked && \"active\"}`}\n              onClick={likePost}\n            >\n              {!!post.liked ? \"Liked\" : \"Like\"}\n            </button>\n            <button\n              className=\"comment-button\"\n              onClick={() => setShowRespond(!showRespond)}\n            >\n              Comment\n            </button>\n          </div>\n        </div>\n\n        <motion.div className=\"comments\">\n          {post.comments &&\n            [...post.comments]\n              .sort((a, b) => (a.dateAdded > b.dateAdded ? 1 : -1))\n              .map((comment) => {\n                return (\n                  <div className=\"comment\" key={comment._id}>\n                    <div className=\"author\">@{comment?.author?.fullName}</div>\n                    <p className=\"content\">{comment.content}</p>\n                  </div>\n                );\n              })}\n          <AnimatePresence>\n            {showRespond && (\n              <motion.div\n                key=\"commentBox\"\n                initial=\"collapsed\"\n                animate=\"open\"\n                exit=\"collapsed\"\n                variants={{\n                  open: { opacity: 1, height: \"auto\" },\n                  collapsed: { opacity: 0, height: 0 },\n                }}\n                transition={{ duration: 0.8, ease: [0.04, 0.62, 0.23, 0.98] }}\n              >\n                <CommentBox {...{ refresh }} postId={post._id} />\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </motion.div>\n      </div>\n    </AnimateSharedLayout>\n  );\n};\n\nexport { Post };\n","import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nimport { PostForm } from \"./PostForm\";\nimport { Post } from \"./Post\";\nimport \"./Posts.scss\";\n\nconst PostIndex = () => {\n  const [posts, setPosts] = useState([]);\n  const [error, setError] = useState(null);\n\n  const getPosts = useCallback(() => {\n    axios\n      .get(\"/posts\")\n      .then((res) => {\n        setPosts(res.data.posts);\n        setError(res?.data.err);\n      })\n      .catch((err) => setError(err));\n  }, []);\n\n  useEffect(() => {\n    getPosts();\n  }, [getPosts]);\n\n  return (\n    <div className=\"posts-container\">\n      {error && <div className=\"error\">{error}</div>}\n      <PostForm refresh={getPosts} />\n      {posts.map((post) => {\n        return <Post {...{ post }} refresh={getPosts} key={post._id} />;\n      })}\n    </div>\n  );\n};\n\nexport { PostIndex };\n","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useState } from \"react/cjs/react.development\";\n\nimport { Post } from \"./Post\";\nimport \"./Posts.scss\";\n\nconst PostPage = () => {\n  const [post, setPost] = useState();\n  const [error, setError] = useState(null);\n  const { postId } = useParams();\n\n  const getPost = () => {\n    axios\n      .get(`/posts/${postId}`)\n      .then((res) => {\n        setPost(res.post);\n        setError(res?.err);\n      })\n      .catch((err) => setError(err));\n  };\n\n  useEffect(() => {\n    getPost();\n  });\n\n  return (\n    <div className=\"post-container\">\n      {error && <div className=\"error\">{error}</div>}\n      {post.map((post) => (\n        <Post {...{ post }} refresh={getPost} />\n      ))}\n    </div>\n  );\n};\n\nexport { PostPage };\n","import axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nimport \"./Users.scss\";\n\nconst UserCard = ({ user }) => {\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n\n  const addFriend = (userId) => {\n    axios\n      .post(`/users/requests/${userId}`)\n      .then((res) => {\n        setMessage(res?.data?.msg);\n      })\n      .catch((err) => {\n        setError(err.response.data.msg);\n        console.log(err.response);\n      });\n  };\n\n  const respondRequest = (requestResponse) => {\n    axios\n      .put(`/users/requests/${user._id}`, {\n        requestResponse,\n      })\n      .then((res) => {\n        setMessage(res?.data.msg);\n      })\n      .catch((err) => {\n        setError(err.response.data.msg);\n        console.log(err.response);\n      });\n  };\n\n  const StatusBtn = (status) => {\n    switch (status) {\n      // allow request after denied, for the moment\n      case \"denied\":\n      case undefined:\n        return (\n          <button\n            type=\"button\"\n            className=\"addFriend-status\"\n            onClick={() => addFriend(user._id)}\n          >\n            Add Friend\n          </button>\n        );\n      case \"received\":\n        return (\n          <div className=\"respondFriend-status\">\n            <button\n              type=\"button\"\n              className=\"confirmFriend-status\"\n              onClick={() => respondRequest(\"accepted\")}\n            >\n              Confirm\n            </button>\n            <button\n              type=\"button\"\n              className=\"rejectFriend-status\"\n              onClick={() => respondRequest(\"denied\")}\n            >\n              Reject\n            </button>\n          </div>\n        );\n      case \"accepted\":\n        return (\n          <button type=\"button\" className=\"friends-status\">\n            Friends\n          </button>\n        );\n      case \"pending\":\n        return (\n          <button type=\"button\" className=\"pending-status\">\n            Pending..\n          </button>\n        );\n      default:\n        return <button type=\"button\" className=\"no-status\"></button>;\n    }\n  };\n\n  return (\n    <div className=\"user-card\">\n      {message && <div className=\"message\">{message}</div>}\n      {error && <div className=\"error\">{error}</div>}\n\n      <div className=\"profilePic\">\n        <img\n          src={user?.image || \"/empty_profile.png\"}\n          alt=\"profile pic\"\n          height={50}\n          width={50}\n        />\n      </div>\n      <div className=\"profileInfo\">\n        <Link to={`/users/${user._id}`}>\n          <div className=\"name\">{user?.fullName}</div>\n        </Link>\n        <div className=\"status\">{StatusBtn(user.friendsStatus)}</div>\n        <br></br>\n      </div>\n    </div>\n  );\n};\n\nexport { UserCard };\n","import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nimport { UserCard } from \"./UserCard\";\n\n// change to rel path\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst UserIndex = () => {\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null);\n\n  const getUsers = useCallback(() => {\n    axios\n      .get(\"/users\")\n      .then((res) => {\n        //   set image if received\n        res.data.users.forEach((user) => {\n          if (user?.image) {\n            user.image = base64ToString(user.image.image.data);\n          }\n        });\n\n        setUsers(res.data.users);\n        setError(res?.data.err);\n      })\n      .catch((err) => setError(err?.response?.data?.err || err?.response));\n  }, []);\n\n  useEffect(() => {\n    getUsers();\n  }, [getUsers]);\n\n  return (\n    <div className=\"users-container\">\n      {error && <div className=\"error\">{error}</div>}\n      {users &&\n        users.map((user) => (\n          <UserCard {...{ user }} refresh={getUsers} key={user._id} />\n        ))}\n    </div>\n  );\n};\n\nexport { UserIndex };\n","const { default: axios } = require(\"axios\");\nconst { useState } = require(\"react\");\n\nconst ChangeImage = ({ exit, refresh, priorImage }) => {\n  const [image, setImage] = useState(null);\n  const [remove, setRemove] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const handleChange = (e) => setImage(e.target.files[0]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    if (image) formData.append(\"image\", image);\n    if (remove) formData.append(\"remove-image\", true);\n\n    axios\n      .put(\"/users/update_image\", formData, {})\n      .then((res) => {\n        setMessage(res.data?.msg);\n\n        exit();\n        refresh();\n      })\n      .catch((err) => {\n        console.log(err.response);\n        setError(err.response?.data?.err || err.response);\n      });\n  };\n\n  return (\n    <form\n      className=\"updateImage\"\n      onSubmit={handleSubmit}\n      encType=\"multipart/form-data\"\n    >\n      {message && <div className=\"message\">{message}</div>}\n      {error && <div className=\"error\">{error}</div>}\n      <label>\n        Profile Picture\n        <input type=\"file\" name=\"image\" onChange={handleChange}></input>\n      </label>\n      {priorImage && (\n        <button type=\"submit\" onClick={() => setRemove(true)}>\n          Remove Current Image\n        </button>\n      )}\n\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n};\n\nexport { ChangeImage };\n","import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { Post } from \"../index\";\nimport { ChangeImage } from \"./ChangeImage\";\n\n// change to rel path\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst UserPage = () => {\n  const { userId } = useParams();\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [isCurrentUser, setIsCurrentUser] = useState(false);\n  const [changeImage, setChangeImage] = useState(false);\n\n  const getUser = useCallback(async () => {\n    try {\n      const user = (await axios.get(`/users/${userId}`)).data.user;\n      //  set image if received\n      if (user?.image) {\n        user.image = base64ToString(user.image.image.data);\n      }\n\n      const currentUser = (await axios.get(`/users/me`)).data.user;\n      // set if current user\n      setIsCurrentUser(currentUser._id === user._id);\n      setUser(user);\n    } catch (err) {\n      setError(err.response?.data?.err || err.response);\n    }\n  }, [userId]);\n\n  useEffect(() => getUser(), [getUser]);\n\n  return (\n    <div className=\"userPage\">\n      {isCurrentUser && changeImage && (\n        <ChangeImage\n          exit={() => setChangeImage(false)}\n          refresh={getUser}\n          priorImage={!!user.image}\n        />\n      )}\n      {error && <div className=\"error\">{error}</div>}\n      {user && (\n        <>\n          <div className=\"profilePic\" onClick={() => setChangeImage(true)}>\n            <img\n              src={user?.image || \"/empty_profile.png\"}\n              alt=\"profile pic\"\n              width=\"80\"\n            ></img>\n          </div>\n          <div className=\"fullName\">{user.fullName}</div>\n          <div className=\"posts-container\">\n            {user.posts.length > 0 ? (\n              user.posts.map((post) => (\n                <Post {...{ post }} refresh={getUser} key={post._id} />\n              ))\n            ) : (\n              <p>No posts to show</p>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport { UserPage };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.scss\";\nimport { App } from \"./components/index\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}