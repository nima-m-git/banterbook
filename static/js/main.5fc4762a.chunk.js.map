{"version":3,"sources":["components/App/App.js","components/Login/Signup.js","components/Login/Login.js","imageBufferDataToString.js","components/HeaderNav/HeaderNav.js","components/Posts/PostForm.js","components/Posts/CommentBox.js","components/Posts/Post.js","components/Posts/PostIndex.js","components/Posts/PostPage.js","components/Users/UserCard.js","components/Users/UserIndex.js","components/Users/ChangeImage.js","components/Users/UserPage.js","index.js"],"names":["App","useState","loggedIn","setLoggedIn","useEffect","axios","defaults","baseURL","process","className","logout","path","exact","setHeaders","token","headers","common","Signup","closePopup","errors","setErrors","message","setMessage","firstName","lastName","email","password","confirmPassword","username","inputs","setInputs","handleChange","e","old","target","name","files","value","onSubmit","preventDefault","formData","FormData","input","append","post","then","result","data","setTimeout","catch","err","console","log","response","encType","src","alt","onClick","map","error","i","msg","type","onChange","placeholder","Login","setUsername","setPassword","setError","signupPopup","setSignupPopup","res","base64ToString","base64","HeaderNav","user","setUser","get","image","request","to","_id","fullName","width","height","PostForm","refresh","content","setContent","handleSubmit","a","rows","maxLength","CommentBox","postId","comment","setComment","motion","form","variants","collapsed","scaleY","y","open","cols","button","ExpandLikes","likes","like","Post","expandLikes","setExpandLikes","showRespond","setShowRespond","window","scrollTo","commentRef","current","offsetTop","useRef","likePost","AnimateSharedLayout","author","onMouseEnter","length","onMouseLeave","comments","liked","div","sort","b","dateAdded","AnimatePresence","initial","animate","exit","opacity","transition","duration","ease","ref","PostIndex","posts","setPosts","getPosts","useCallback","key","PostPage","setPost","useParams","getPost","UserCard","respondRequest","requestResponse","put","status","undefined","userId","StatusBtn","friendsStatus","UserIndex","users","setUsers","getUsers","forEach","require","default","ChangeImage","priorImage","setImage","remove","setRemove","UserPage","isCurrentUser","setIsCurrentUser","changeImage","setChangeImage","getUser","currentUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5fc4762a.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport {\n  PostIndex,\n  Login,\n  HeaderNav,\n  UserIndex,\n  UserPage,\n  PostPage,\n} from \"../index\";\nimport \"./App.scss\";\n\nconst App = () => {\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const setHeaders = (token) => {\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    setLoggedIn(true);\n  };\n\n  useEffect(() => {\n    axios.defaults.baseURL = process.env.REACT_APP_PROD_URL;\n  }, []);\n\n  return (\n    <div className=\"app\">\n      {!loggedIn ? (\n        <Login {...{ setHeaders }} />\n      ) : (\n        <div>\n          <HeaderNav logout={() => setLoggedIn(false)} />\n          <div className=\"container\">\n            <Switch>\n              <Route path={[\"/\", \"/posts\"]} exact>\n                <PostIndex />\n              </Route>\n              <Route path=\"/posts/:postId\">\n                <PostPage />\n              </Route>\n              <Route path=\"/users\" exact>\n                <UserIndex />\n              </Route>\n              <Route path=\"/users/:userId\">\n                <UserPage />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport { App };\n","import axios from \"axios\";\nimport { useState } from \"react\";\n\nconst Signup = ({ closePopup }) => {\n  const [errors, setErrors] = useState([]);\n  const [message, setMessage] = useState(null);\n  const [inputs, setInputs] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    username: \"\",\n    // image: \"\",\n  });\n\n  const handleChange = (e) => {\n    setInputs((old) => ({\n      ...old,\n      [e.target.name]:\n        e.target.name === \"image\" ? e.target.files[0] : e.target.value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    for (let input in inputs) {\n      formData.append([input], inputs[input]);\n    }\n\n    axios\n      .post(\"/signup\", formData, {})\n      .then((result) => {\n        setMessage(result?.data?.message);\n\n        // rm conditional?\n        if (result?.errors) {\n          setErrors([...result?.errors]);\n        } else {\n          setErrors([]);\n          setTimeout(() => closePopup(), 1000);\n        }\n      })\n      .catch((err) => {\n        console.log(err.response);\n        setErrors([...err?.response?.data?.errors] || err?.response || err);\n      });\n  };\n\n  return (\n    <form\n      className=\"signup-form\"\n      onSubmit={handleSubmit}\n      encType=\"multipart/form-data\"\n    >\n      <h2 className=\"form-title\">Signup</h2>\n      <img\n        className=\"exit-btn\"\n        src=\"https://static.xx.fbcdn.net/rsrc.php/v3/yX/r/TdCEremeWv5.png\"\n        alt=\"\"\n        onClick={closePopup}\n      />\n      {errors.map((error, i) => (\n        <div className=\"error\" key={i}>\n          - {error.msg}\n        </div>\n      ))}\n      {message && <div className=\"message\">{message}</div>}\n      <div className=\"line\" />\n      {/* <label>\n        <input\n          type=\"text\"\n          name=\"firstName\"\n          value={inputs.firstName}\n          onChange={handleChange}\n          placeholder=\"First Name\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"text\"\n          name=\"lastName\"\n          value={inputs.lastName}\n          onChange={handleChange}\n          placeholder=\"Last Name\"\n        />\n      </label> */}\n      <label>\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={inputs.username}\n          onChange={handleChange}\n          placeholder=\"Username\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={inputs.password}\n          onChange={handleChange}\n          placeholder=\"Password\"\n        />\n      </label>\n      <label>\n        <input\n          type=\"password\"\n          name=\"confirmPassword\"\n          value={inputs.confirmPassword}\n          onChange={handleChange}\n          placeholder=\"Confirm Password\"\n        />\n      </label>\n      <label>\n        Profile Picture\n        <input type=\"file\" name=\"image\" onChange={handleChange}></input>\n      </label>\n      <button type=\"submit\" className=\"signup-btn\">\n        Sign Up\n      </button>\n    </form>\n  );\n};\n\nexport { Signup };\n","import axios from \"axios\";\nimport { useState } from \"react\";\n\nimport \"./Login.scss\";\nimport { Signup } from \"./Signup\";\n\nconst Login = ({ setHeaders }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [signupPopup, setSignupPopup] = useState(false);\n\n  const checkCredentials = (e) => {\n    e.preventDefault();\n    axios\n      .post(\"/login\", {\n        username,\n        password,\n      })\n      .then((res) => {\n        setError(res?.data?.message);\n        const token = res?.data?.token;\n        if (!!token) setHeaders(token);\n      })\n      .catch((err) => console.log(err.response || err));\n  };\n\n  return (\n    <div className=\"login\">\n      <header>Welcome Banter!</header>\n      {signupPopup ? (\n        <Signup closePopup={() => setSignupPopup(false)} />\n      ) : (\n        <form className=\"login-form\" onSubmit={checkCredentials}>\n          {error && <div className=\"error\">- {error}</div>}\n          <label>\n            <input\n              type=\"username\"\n              name=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              placeholder=\"Username\"\n            />\n          </label>\n          <label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Password\"\n            />\n          </label>\n          <button className=\"submit-btn\">Log In</button>\n          <div className=\"line\" />\n          <button\n            type=\"button\"\n            className=\"signup-btn\"\n            onClick={() => setSignupPopup(true)}\n          >\n            Sign Up\n          </button>\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport { Login };\n","const arrayBufferToBase64 = (buffer) => {\n  let binary = \"\";\n  const bytes = [].slice.call(new Uint8Array(buffer));\n  bytes.forEach((b) => (binary += String.fromCharCode(b)));\n  return window.btoa(binary);\n};\n\nconst imageBufferDataToString = (data) =>\n  `data:image/jpeg;base64,${arrayBufferToBase64(data)}`;\n\nconst base64ToString = (base64) => `data:image/jpeg;base64,${base64}`;\n\nexport { imageBufferDataToString, base64ToString };\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./HeaderNav.scss\";\n\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst HeaderNav = ({ logout }) => {\n  const [user, setUser] = useState(true);\n\n  useEffect(() => {\n    axios\n      .get(\"/users/me\")\n      .then((res) => {\n        const user = res.data.user;\n\n        // set image if received\n        if (user?.image) {\n          user.image = base64ToString(user.image.image.data);\n        }\n\n        setUser(user);\n      })\n      .catch((err) => console.log(err?.response?.data?.err || err.request));\n  }, []);\n\n  return (\n    <header className=\"header\">\n      <Link to=\"/\">\n        <header>\n          <h1 className=\"logo\">Banter</h1>\n        </header>\n      </Link>\n      <nav className=\"navbar\">\n        <Link className=\"link\" to=\"/users\">\n          Users\n        </Link>\n        <Link className=\"link\" to={`/users/${user._id}`}>\n          {user?.image && (\n            <div className=\"profilePic\">\n              <div className=\"usersName\">{user.fullName}</div>\n              <img\n                src={user?.image || \"/empty_profile.png\"}\n                alt=\"profile pic\"\n                width=\"50\"\n                height=\"50\"\n              ></img>\n            </div>\n          )}\n        </Link>\n        <div className=\"link\" onClick={logout}>\n          Logout\n        </div>\n      </nav>\n    </header>\n  );\n};\n\nexport { HeaderNav };\n","import TextareaAutosize from \"react-textarea-autosize\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\n\nconst PostForm = ({ refresh }) => {\n  const [content, setContent] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState(null);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await axios\n      .post(`/posts/`, {\n        content: content,\n      })\n      .then((res) => setMessage(res.data.msg))\n      .catch((err) => setError(err.response.data.err));\n\n    setContent(\"\");\n    refresh();\n  };\n\n  return (\n    <form className=\"postForm\" onSubmit={handleSubmit}>\n      <label>\n        <TextareaAutosize\n          onChange={(e) => setContent(e.target.value)}\n          value={content}\n          rows={2}\n          maxLength={500}\n          placeholder=\"Write Something...\"\n        />\n      </label>\n      <button className=\"submit-btn\">Submit</button>\n      {message && <div className=\"message\">{message}</div>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n};\n\nexport { PostForm };\n","import axios from \"axios\";\nimport { useState } from \"react\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { motion } from \"framer-motion\";\n\nconst CommentBox = ({ postId, refresh }) => {\n  const [comment, setComment] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n\n  const handleResult = (result) => {\n    setErrors(\n      result?.errors\n        ? result.errors.map((err) => err.msg)\n        : result?.err\n        ? [result.err]\n        : []\n    );\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await axios\n      .post(`/posts/${postId}`, {\n        content: comment,\n      })\n      .then((res) => handleResult(res))\n      .catch((err) => setErrors([...errors, err.response.data.err]));\n\n    setComment(\"\");\n    refresh();\n  };\n\n  return (\n    <motion.form\n      className=\"comment-box\"\n      onSubmit={handleSubmit}\n      key=\"commentBox\"\n      // initial={{ y: -25, height: \"0px\" }}\n      // animate={{ y: 0, height: \"fit-content\" }}\n      // exit={{ y: -25, height: \"0px\" }}\n      variants={{ collapsed: { scaleY: 0, y: -25 }, open: { scaleY: 1, y: 0 } }}\n    >\n      <TextareaAutosize\n        onChange={(e) => setComment(e.target.value)}\n        value={comment}\n        rows={1}\n        cols={40}\n        maxLength={300}\n        placeholder=\"Write a reply...\"\n      />\n      <motion.button className=\"submit-btn\">Submit</motion.button>\n      {errors && errors.map((error) => <div className=\"error\">{error}</div>)}\n    </motion.form>\n  );\n};\n\nexport { CommentBox };\n","import axios from \"axios\";\nimport { AnimatePresence, motion, AnimateSharedLayout } from \"framer-motion\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CommentBox } from \"./CommentBox\";\n\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst ExpandLikes = ({ post }) => (\n  <div className=\"expanded-likes\">\n    {post?.likes?.map((like, i) => (\n      <li key={i}>{like.username}</li>\n    ))}\n  </div>\n);\n\nconst Post = ({ refresh, post }) => {\n  const [expandLikes, setExpandLikes] = useState(false);\n  const [showRespond, setShowRespond] = useState(false);\n\n  useEffect(() => {\n    if (showRespond) {\n      window.scrollTo(0, commentRef.current.offsetTop);\n    }\n  }, [showRespond]);\n\n  const commentRef = useRef(null);\n\n  const likePost = async (e) => {\n    e.preventDefault();\n    try {\n      await axios\n        .post(`/posts/${post._id}/like`)\n        .then((res) => console.log(res.data.msg));\n      refresh();\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  return (\n    <AnimateSharedLayout>\n      <div className=\"post\">\n        <div className=\"post-info\">\n          <Link to={`/users/${post.author._id}`}>\n            <div className=\"profilePic\">\n              <div className=\"author\">@{post.author.username}</div>\n              {post.author?.image && (\n                <img\n                  src={\n                    base64ToString(post.author.image) ||\n                    \"https://fertilitynetworkuk.org/wp-content/uploads/2017/01/Facebook-no-profile-picture-icon-620x389.jpg\"\n                  }\n                  alt=\"profile pic\"\n                  width=\"50\"\n                ></img>\n              )}\n            </div>\n          </Link>\n\n          <p className=\"content\">{post.content}</p>\n          <div className=\"stats-bar\">\n            <span\n              className=\"number-likes\"\n              onMouseEnter={() =>\n                setExpandLikes(post.likes.length ? true : false)\n              }\n              onMouseLeave={() => setExpandLikes(false)}\n            >\n              {post?.likes?.length || \"0\"} Likes\n            </span>\n            {expandLikes && <ExpandLikes {...{ post }} />}\n            {\" · \"}\n            <span>{post?.comments?.length} Comments</span>\n          </div>\n\n          <div className=\"actions-bar\">\n            <button\n              className={`like-button ${post.liked && \"active\"}`}\n              onClick={likePost}\n            >\n              {!!post.liked ? \"Liked\" : \"Like\"}\n            </button>\n            <button\n              className=\"comment-button\"\n              onClick={() => setShowRespond(!showRespond)}\n            >\n              Comment\n            </button>\n          </div>\n        </div>\n\n        <motion.div className=\"comments\">\n          {post.comments &&\n            [...post.comments]\n              .sort((a, b) => (a.dateAdded > b.dateAdded ? 1 : -1))\n              .map((comment) => {\n                return (\n                  <div className=\"comment\" key={comment._id}>\n                    <div className=\"author\">@{comment?.author?.username}</div>\n                    <p className=\"content\">{comment.content}</p>\n                  </div>\n                );\n              })}\n          <AnimatePresence>\n            {showRespond && (\n              <motion.div\n                key=\"commentBox\"\n                initial=\"collapsed\"\n                animate=\"open\"\n                exit=\"collapsed\"\n                variants={{\n                  open: { opacity: 1, height: \"auto\" },\n                  collapsed: { opacity: 0, height: 0 },\n                }}\n                transition={{ duration: 0.8, ease: [0.04, 0.62, 0.23, 0.98] }}\n                ref={commentRef}\n              >\n                <CommentBox {...{ refresh }} postId={post._id} />\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </motion.div>\n      </div>\n    </AnimateSharedLayout>\n  );\n};\n\nexport { Post };\n","import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nimport { PostForm } from \"./PostForm\";\nimport { Post } from \"./Post\";\nimport \"./Posts.scss\";\n\nconst PostIndex = () => {\n  const [posts, setPosts] = useState([]);\n  const [error, setError] = useState(null);\n\n  const getPosts = useCallback(() => {\n    axios\n      .get(\"/posts\")\n      .then((res) => {\n        setPosts(res.data.posts);\n        setError(res?.data.err);\n      })\n      .catch((err) => {\n        setError(err);\n        console.log({ err });\n      });\n  }, []);\n\n  useEffect(() => {\n    getPosts();\n  }, [getPosts]);\n\n  return (\n    <div className=\"posts-container\">\n      {error && <div className=\"error\">{error}</div>}\n      <PostForm refresh={getPosts} />\n      {posts?.map((post) => {\n        return <Post {...{ post }} refresh={getPosts} key={post._id} />;\n      })}\n    </div>\n  );\n};\n\nexport { PostIndex };\n","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useState } from \"react/cjs/react.development\";\n\nimport { Post } from \"./Post\";\nimport \"./Posts.scss\";\n\nconst PostPage = () => {\n  const [post, setPost] = useState();\n  const [error, setError] = useState(null);\n  const { postId } = useParams();\n\n  const getPost = () => {\n    axios\n      .get(`/posts/${postId}`)\n      .then((res) => {\n        setPost(res.post);\n        setError(res?.err);\n      })\n      .catch((err) => setError(err));\n  };\n\n  useEffect(() => {\n    getPost();\n  });\n\n  return (\n    <div className=\"post-container\">\n      {error && <div className=\"error\">{error}</div>}\n      {post.map((post) => (\n        <Post {...{ post }} refresh={getPost} />\n      ))}\n    </div>\n  );\n};\n\nexport { PostPage };\n","import axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nimport \"./Users.scss\";\n\nconst UserCard = ({ user }) => {\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n\n  const addFriend = (userId) => {\n    axios\n      .post(`/users/requests/${userId}`)\n      .then((res) => {\n        setMessage(res?.data?.msg);\n      })\n      .catch((err) => {\n        setError(err.response.data.msg);\n        console.log(err.response);\n      });\n  };\n\n  const respondRequest = (requestResponse) => {\n    axios\n      .put(`/users/requests/${user._id}`, {\n        requestResponse,\n      })\n      .then((res) => {\n        setMessage(res?.data.msg);\n      })\n      .catch((err) => {\n        setError(err.response.data.msg);\n        console.log(err.response);\n      });\n  };\n\n  const StatusBtn = (status) => {\n    switch (status) {\n      // allow request after denied, for the moment\n      case \"denied\":\n      case undefined:\n        return (\n          <button\n            type=\"button\"\n            className=\"addFriend-status\"\n            onClick={() => addFriend(user._id)}\n          >\n            Add Friend\n          </button>\n        );\n      case \"received\":\n        return (\n          <div className=\"respondFriend-status\">\n            <button\n              type=\"button\"\n              className=\"confirmFriend-status\"\n              onClick={() => respondRequest(\"accepted\")}\n            >\n              Confirm\n            </button>\n            <button\n              type=\"button\"\n              className=\"rejectFriend-status\"\n              onClick={() => respondRequest(\"denied\")}\n            >\n              Reject\n            </button>\n          </div>\n        );\n      case \"accepted\":\n        return (\n          <button type=\"button\" className=\"friends-status\">\n            Friends\n          </button>\n        );\n      case \"pending\":\n        return (\n          <button type=\"button\" className=\"pending-status\">\n            Pending..\n          </button>\n        );\n      default:\n        return <button type=\"button\" className=\"no-status\"></button>;\n    }\n  };\n\n  return (\n    <div className=\"user-card\">\n      {message && <div className=\"message\">{message}</div>}\n      {error && <div className=\"error\">{error}</div>}\n\n      <div className=\"profilePic\">\n        <img\n          src={user?.image || \"/empty_profile.png\"}\n          alt=\"profile pic\"\n          height={50}\n          width={50}\n        />\n      </div>\n      <div className=\"profileInfo\">\n        <Link to={`/users/${user._id}`}>\n          <div className=\"username\">@{user?.username}</div>\n        </Link>\n        <div className=\"status\">{StatusBtn(user.friendsStatus)}</div>\n        <br></br>\n      </div>\n    </div>\n  );\n};\n\nexport { UserCard };\n","import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nimport { UserCard } from \"./UserCard\";\n\n// change to rel path\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst UserIndex = () => {\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null);\n\n  const getUsers = useCallback(() => {\n    axios\n      .get(\"/users\")\n      .then((res) => {\n        //   set image if received\n        res.data.users.forEach((user) => {\n          if (user?.image) {\n            user.image = base64ToString(user.image.image.data);\n          }\n        });\n\n        setUsers(res.data.users);\n        setError(res?.data.err);\n      })\n      .catch((err) => setError(err?.response?.data?.err || err?.response));\n  }, []);\n\n  useEffect(() => {\n    getUsers();\n  }, [getUsers]);\n\n  return (\n    <div className=\"users-container\">\n      {error && <div className=\"error\">{error}</div>}\n      {users &&\n        users.map((user) => (\n          <UserCard {...{ user }} refresh={getUsers} key={user._id} />\n        ))}\n    </div>\n  );\n};\n\nexport { UserIndex };\n","const { default: axios } = require(\"axios\");\nconst { useState } = require(\"react\");\n\nconst ChangeImage = ({ exit, refresh, priorImage }) => {\n  const [image, setImage] = useState(null);\n  const [remove, setRemove] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const handleChange = (e) => setImage(e.target.files[0]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    if (image) formData.append(\"image\", image);\n    if (remove) formData.append(\"remove-image\", true);\n\n    axios\n      .put(\"/users/update_image\", formData, {})\n      .then((res) => {\n        setMessage(res.data?.msg);\n\n        exit();\n        refresh();\n      })\n      .catch((err) => {\n        console.log(err.response);\n        setError(err.response?.data?.err || err.response);\n      });\n  };\n\n  return (\n    <form\n      className=\"updateImage\"\n      onSubmit={handleSubmit}\n      encType=\"multipart/form-data\"\n    >\n      {message && <div className=\"message\">{message}</div>}\n      {error && <div className=\"error\">{error}</div>}\n      <label>\n        Profile Picture\n        <input type=\"file\" name=\"image\" onChange={handleChange}></input>\n      </label>\n      {priorImage && (\n        <button type=\"submit\" onClick={() => setRemove(true)}>\n          Remove Current Image\n        </button>\n      )}\n\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n};\n\nexport { ChangeImage };\n","import axios from \"axios\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { Post } from \"../index\";\nimport { ChangeImage } from \"./ChangeImage\";\n\n// change to rel path\nimport { base64ToString } from \"../../imageBufferDataToString\";\n\nconst UserPage = () => {\n  const { userId } = useParams();\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [isCurrentUser, setIsCurrentUser] = useState(false);\n  const [changeImage, setChangeImage] = useState(false);\n\n  const getUser = useCallback(async () => {\n    try {\n      const user = (await axios.get(`/users/${userId}`)).data.user;\n      //  set image if received\n      if (user?.image) {\n        user.image = base64ToString(user.image.image.data);\n      }\n\n      const currentUser = (await axios.get(`/users/me`)).data.user;\n      // set if current user\n      setIsCurrentUser(currentUser._id === user._id);\n      setUser(user);\n    } catch (err) {\n      setError(err.response?.data?.err || err.response);\n    }\n  }, [userId]);\n\n  useEffect(() => getUser(), [getUser]);\n\n  return (\n    <div className=\"userPage\">\n      {isCurrentUser && changeImage && (\n        <ChangeImage\n          exit={() => setChangeImage(false)}\n          refresh={getUser}\n          priorImage={!!user.image}\n        />\n      )}\n      {error && <div className=\"error\">{error}</div>}\n      {user && (\n        <>\n          <div className=\"profilePic\" onClick={() => setChangeImage(true)}>\n            <img\n              src={user?.image || \"/empty_profile.png\"}\n              alt=\"profile pic\"\n              width=\"80\"\n            ></img>\n          </div>\n          <div className=\"fullName\">{user.fullName}</div>\n          <div className=\"posts-container\">\n            {user.posts.length > 0 ? (\n              user.posts.map((post) => (\n                <Post {...{ post }} refresh={getUser} key={post._id} />\n              ))\n            ) : (\n              <p>No posts to show</p>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport { UserPage };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.scss\";\nimport { App } from \"./components/index\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}